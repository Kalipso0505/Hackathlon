@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';
@source '../**/*.tsx';

@theme {
    --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';

    --radius: 0.5rem;

    /* Clean Light Theme Colors */
    --color-background: oklch(1 0 0);
    --color-foreground: oklch(0.145 0.02 265);

    --color-card: oklch(1 0 0);
    --color-card-foreground: oklch(0.145 0.02 265);

    --color-popover: oklch(1 0 0);
    --color-popover-foreground: oklch(0.145 0.02 265);

    /* Primary: Modern Blue */
    --color-primary: oklch(0.546 0.245 262.881);
    --color-primary-foreground: oklch(0.985 0.003 247.858);

    /* Secondary: Light Gray */
    --color-secondary: oklch(0.97 0.003 265);
    --color-secondary-foreground: oklch(0.205 0.024 265);

    /* Muted: Subtle backgrounds */
    --color-muted: oklch(0.97 0.003 265);
    --color-muted-foreground: oklch(0.556 0.022 265);

    /* Accent: Purple for highlights */
    --color-accent: oklch(0.541 0.281 293.009);
    --color-accent-foreground: oklch(0.985 0.003 247.858);

    /* Destructive: Red for danger actions */
    --color-destructive: oklch(0.577 0.245 27.325);
    --color-destructive-foreground: oklch(0.985 0.003 247.858);

    /* Borders & Inputs */
    --color-border: oklch(0.922 0.005 265);
    --color-input: oklch(0.922 0.005 265);
    --color-ring: oklch(0.546 0.245 262.881);

    /* Charts */
    --color-chart-1: oklch(0.546 0.245 262.881);
    --color-chart-2: oklch(0.6 0.2 160);
    --color-chart-3: oklch(0.7 0.2 30);
    --color-chart-4: oklch(0.6 0.2 280);
    --color-chart-5: oklch(0.6 0.2 340);

    /* Game-specific colors */
    --color-success: oklch(0.527 0.154 150.069);
    --color-warning: oklch(0.769 0.189 70.08);
    --color-info: oklch(0.541 0.202 231.711);
}

/* Dark mode overrides */
.dark {
    --color-background: oklch(0.145 0.02 265);
    --color-foreground: oklch(0.985 0.003 247.858);

    --color-card: oklch(0.145 0.02 265);
    --color-card-foreground: oklch(0.985 0.003 247.858);

    --color-popover: oklch(0.145 0.02 265);
    --color-popover-foreground: oklch(0.985 0.003 247.858);

    --color-primary: oklch(0.623 0.214 259.815);
    --color-primary-foreground: oklch(0.205 0.024 265);

    --color-secondary: oklch(0.269 0.03 256.848);
    --color-secondary-foreground: oklch(0.985 0.003 247.858);

    --color-muted: oklch(0.269 0.03 256.848);
    --color-muted-foreground: oklch(0.709 0.023 255.821);

    --color-accent: oklch(0.541 0.281 293.009);
    --color-accent-foreground: oklch(0.985 0.003 247.858);

    --color-destructive: oklch(0.442 0.189 27.325);
    --color-destructive-foreground: oklch(0.985 0.003 247.858);

    --color-border: oklch(0.269 0.03 256.848);
    --color-input: oklch(0.269 0.03 256.848);
    --color-ring: oklch(0.553 0.227 262.881);

    --color-success: oklch(0.6 0.2 150);
    --color-warning: oklch(0.769 0.189 70.08);
    --color-info: oklch(0.541 0.202 231.711);
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        min-height: 100vh;
        font-feature-settings: 'kern' 1;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    html {
        scroll-behavior: smooth;
    }
}

/* ============================================================================
   Custom Utility Classes
   ============================================================================ */

@layer utilities {
    .scrollbar-thin::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    .scrollbar-thin::-webkit-scrollbar-track {
        background: transparent;
    }

    .scrollbar-thin::-webkit-scrollbar-thumb {
        @apply bg-border;
        border-radius: 3px;
    }

    .scrollbar-none::-webkit-scrollbar {
        display: none;
    }

    .scrollbar-none {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .text-balance {
        text-wrap: balance;
    }

    .shadow-soft {
        box-shadow: 
            0 1px 3px 0 rgb(0 0 0 / 0.04),
            0 1px 2px -1px rgb(0 0 0 / 0.04);
    }

    .shadow-medium {
        box-shadow: 
            0 4px 6px -1px rgb(0 0 0 / 0.05),
            0 2px 4px -2px rgb(0 0 0 / 0.05);
    }

    @keyframes fade-in {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    .animate-fade-in {
        animation: fade-in 0.2s ease-out;
    }

    /* Blood drip animation */
    @keyframes drip {
        0%, 100% {
            height: 1.5rem;
            opacity: 0.9;
        }
        50% {
            height: 2rem;
            opacity: 1;
        }
    }

    .animate-drip {
        animation: drip 3s ease-in-out infinite;
    }

    /* Realistic old TV flicker - balanced frequency and intensity */
    @keyframes tv-flicker {
        0%, 100% {
            filter: brightness(1) contrast(1);
        }
        /* First subtle flicker */
        6% {
            filter: brightness(1) contrast(1);
        }
        6.3% {
            filter: brightness(0.88) contrast(1.12);
        }
        6.6% {
            filter: brightness(1.1) contrast(0.9);
        }
        7% {
            filter: brightness(1) contrast(1);
        }
        /* Medium intensity flash */
        28% {
            filter: brightness(1) contrast(1);
        }
        28.2% {
            filter: brightness(0.8) contrast(1.2);
        }
        28.5% {
            filter: brightness(1.15) contrast(0.85);
        }
        28.8% {
            filter: brightness(1) contrast(1);
        }
        /* Quick double tap */
        52% {
            filter: brightness(1) contrast(1);
        }
        52.2% {
            filter: brightness(1.12) contrast(0.88);
        }
        52.4% {
            filter: brightness(0.85) contrast(1.15);
        }
        52.7% {
            filter: brightness(1) contrast(1);
        }
        /* Subtle pulse */
        73% {
            filter: brightness(1) contrast(1);
        }
        73.3% {
            filter: brightness(0.92) contrast(1.08);
        }
        73.6% {
            filter: brightness(1) contrast(1);
        }
        /* Final stronger flicker */
        91% {
            filter: brightness(1) contrast(1);
        }
        91.2% {
            filter: brightness(0.82) contrast(1.18);
        }
        91.5% {
            filter: brightness(1.12) contrast(0.88);
        }
        91.8% {
            filter: brightness(1) contrast(1);
        }
    }

    .animate-tv-flicker {
        animation: tv-flicker 10s ease-in-out infinite;
    }
}

/* ============================================================================
   Component-specific styles
   ============================================================================ */

@layer components {
    .panel {
        @apply bg-card border border-border rounded-lg;
        box-shadow: 
            0 1px 3px 0 rgb(0 0 0 / 0.04),
            0 1px 2px -1px rgb(0 0 0 / 0.04);
    }

    .header-bar {
        @apply bg-card/95 border-b border-border sticky top-0 z-50;
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
    }

    .sidebar {
        @apply bg-card border-r border-border h-full;
    }
}

/* Radix UI specific overrides */
@layer utilities {
    [data-radix-scroll-area-viewport] {
        scrollbar-width: thin;
    }
    
    [data-radix-scroll-area-viewport]::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }
}
