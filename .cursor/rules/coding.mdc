---
alwaysApply: true
---
# Cursor Rules â€“ Laravel Projekt (ErgÃ¤nzung zu Laravel Boost)

> **Wichtig:** Die Datei **laravel-boost.mdc** ist die primÃ¤re Quelle fÃ¼r allgemeine Laravel-/Pest-/Pint-/Architektur-Regeln.  
> Diese **laravel.mdc** enthÃ¤lt **nur projekt-spezifische ErgÃ¤nzungen**, damit sich nichts doppelt oder widerspricht.

## ğŸ³ AusfÃ¼hrungsumgebung (Projekt-spezifisch)

- Entwicklung und AusfÃ¼hrung erfolgt **ausschlieÃŸlich im Docker-Container**.
- Artisan-Aufrufe immer so:
  - `docker compose exec php php artisan <Befehl>`
- Tests immer im Container ausfÃ¼hren:
  - `docker compose exec php php artisan test`

## ğŸ”€ Routen & API-Vorgehen (ErgÃ¤nzung)

- Neue API-Routen immer in `routes/api.php`
- Vorgehen bei neuen Endpoints:
  1. Route anlegen
  2. Controller per Artisan erzeugen
  3. Logik implementieren
  4. **AusfÃ¼hrlich testen**
  5. OpenAPI aus Code neu generieren: `docker compose exec php php artisan scramble:export --path=public/openapi.json` (oder `composer openapi`)

> Allgemeine Controller-/Service-/DTO-Regeln sind in **laravel-boost.mdc** definiert.

## ğŸ“„ OpenAPI / Dokumentation (Projektstandard)

- OpenAPI-Spezifikation wird **aus dem Code** mit [Scramble](https://scramble.dedoc.co/) generiert (Routen, Controller, Validierung).
- Nach neuen oder geÃ¤nderten API-Endpoints: `docker compose exec php php artisan scramble:export --path=public/openapi.json` ausfÃ¼hren (oder `composer openapi`). Ergebnis: `public/openapi.json`.
- Doku-UI: `/docs/api` (nur in lokaler Umgebung, sofern nicht per Gate freigegeben).
- Keine manuelle OpenAPI-Pflege; Beispiele und Schemas kommen aus dem Code.

## ğŸ§ª Tests (ErgÃ¤nzung)

- Tests sind **Pflicht** bei:
  - neuen Endpoints
  - geÃ¤nderter Business-Logik
- Fokus:
  - Feature-Tests fÃ¼r API
  - keine unnÃ¶tigen Unit-Tests fÃ¼r triviale Getter/Setter

> Test-Framework, Assertions und Struktur siehe **laravel-boost.mdc**.

## ğŸ§¹ Automatische Fixes (falls vorhanden)

```bash
docker compose exec php composer lint:fix
```

FÃ¼r Pint gilt zusÃ¤tzlich die Boost-Regel:
vor dem Finalisieren vendor/bin/pint --dirty (oder Ã¤quivalent via Skript) laufen lassen.

## ğŸ§ª Tests (ErgÃ¤nzung)
Commits folgen den Regeln unter /CONTRIBUTING.md